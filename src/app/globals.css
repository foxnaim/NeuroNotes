@import "tailwindcss";

@theme {
  --color-background: #000000;
  --color-surface: #1A1A1A;
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #A0A0A0;
  --color-primary: #3B82F6;
  --color-secondary: #06B6D4;
  --color-border: #333333;
  --color-success: #10B981;
  --color-warning: #F59E0B;
  --color-error: #EF4444;
}

:root {
  --color-neutral-light: color-mix(in srgb, #f5ede4 70%, var(--color-primary));
  --color-neutral-lighter: color-mix(in srgb, #fdf8f2 80%, var(--color-secondary));
  --shadow-elevated: rgba(31, 21, 11, 0.22);
}

/* Compact mode utility â€” scoped ONLY to main content */
.compact .content-root .p-4{ padding:0.75rem; }
.compact .content-root .p-6{ padding:1rem; }
.compact .content-root .px-5{ padding-left:1rem; padding-right:1rem; }
.compact .content-root .py-2{ padding-top:0.375rem; padding-bottom:0.375rem; }
.compact .content-root .gap-3{ gap:0.5rem; }
.compact .content-root .rounded-2xl{ border-radius:0.75rem; }
.compact .content-root .text-2xl{ font-size:1.25rem; }

/* Sidebar unaffected by compact mode because rules are scoped to .content-root */

/* Accessibility: ensure contrasts by tinting borders/backgrounds on dark themes */
.bg-surface { background-color: var(--color-surface); }
.bg-background {
  background-color: var(--color-background);
}

@supports (background: color-mix(in srgb, red 50%, transparent)) {
  .bg-background {
    background-image:
      radial-gradient(
        140% 140% at 10% 15%,
        color-mix(in srgb, var(--color-primary) 30%, transparent) 0%,
        transparent 60%
      ),
      radial-gradient(
        160% 160% at 85% 10%,
        color-mix(in srgb, var(--color-secondary) 25%, transparent) 0%,
        transparent 65%
      ),
      radial-gradient(
        150% 150% at 70% 90%,
        color-mix(in srgb, var(--color-primary) 18%, transparent) 0%,
        transparent 70%
      );
    background-attachment: fixed;
    background-repeat: no-repeat;
    background-size: cover;
  }
}
.text-text-primary { color: var(--color-text-primary); }
.text-text-secondary { color: var(--color-text-secondary); }
.border-border { border-color: color-mix(in srgb, var(--color-border) 28%, var(--color-neutral-light) 72%); }

/* Background opacity utilities with neutral blending */
.bg-background\/40 { background-color: color-mix(in srgb, var(--color-neutral-lighter) 90%, var(--color-background) 10%); }
.bg-background\/60 { background-color: color-mix(in srgb, var(--color-neutral-lighter) 85%, var(--color-background) 15%); }
.bg-background\/70 { background-color: color-mix(in srgb, var(--color-neutral-lighter) 82%, var(--color-background) 18%); }
.bg-background\/75 { background-color: color-mix(in srgb, var(--color-neutral-lighter) 78%, var(--color-background) 22%); }
.bg-background\/80 { background-color: color-mix(in srgb, var(--color-neutral-lighter) 75%, var(--color-background) 25%); }
.bg-background\/85 { background-color: color-mix(in srgb, var(--color-neutral-lighter) 70%, var(--color-background) 30%); }

.bg-surface\/40 { background-color: color-mix(in srgb, var(--color-neutral-light) 90%, var(--color-surface) 10%); }
.bg-surface\/60 { background-color: color-mix(in srgb, var(--color-neutral-light) 85%, var(--color-surface) 15%); }
.bg-surface\/70 { background-color: color-mix(in srgb, var(--color-neutral-light) 80%, var(--color-surface) 20%); }
.bg-surface\/80 { background: linear-gradient(135deg, color-mix(in srgb, var(--color-primary) 14%, var(--color-neutral-lighter) 86%) 0%, color-mix(in srgb, var(--color-secondary) 10%, var(--color-neutral-lighter) 90%) 100%); }

/* Prevent sidebar icon size shrinking in compact mode */
.sidebar-root .sidebar-icon { font-size: 1.25rem; }
.compact .sidebar-root .sidebar-icon { font-size: 1.25rem; }

/* Keep quick note and bottom status sizes too */
.sidebar-root .w-10.h-10 { width: 2.5rem; height: 2.5rem; }
.compact .sidebar-root .w-10.h-10 { width: 2.5rem; height: 2.5rem; }

/* Auto-contrast for raster logos: invert on dark backgrounds, normal on light */
.logo-auto-contrast {
  filter: var(--logo-filter);
  transition: filter 200ms ease;
}

/* Default to inverted logo for black background */
:root { --logo-filter: invert(1) contrast(1.05) saturate(0.9); }

/* Habit card hover effects */
.habit-card:hover {
  border-color: color-mix(in srgb, var(--color-primary) 35%, var(--color-neutral-light) 65%) !important;
  box-shadow: 0 20px 42px -28px color-mix(in srgb, var(--color-primary) 40%, var(--shadow-elevated));
}

.habit-checkbox:hover {
  border-color: color-mix(in srgb, var(--color-primary) 55%, var(--color-neutral-light) 45%) !important;
}

.habit-checkbox:hover .habit-checkbox-inner {
  opacity: 1 !important;
}
